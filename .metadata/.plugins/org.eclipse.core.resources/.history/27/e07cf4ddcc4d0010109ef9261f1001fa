/*
 * Device.cpp
 *
 *  Created on: Jun 20, 2025
 *      Author: Administrator
 */

#include "Device.h"



Device::Device(std::string name){
	if (name.compare("Living Room") == 0){
		id = em_LV_R;
		id_74HC[0] = DS0;	// For led
		id_74HC[1] = DS3;	// For LCD
	}
	else if (name.compare("Kitchen Room") == 0){
		id = em_KC_R;
		id_74HC[0] = DS1;
	}

	else if (name.compare("Bed Room") == 0){
		id = em_B_R;
		id_74HC[0] = DS2;
	}

	// For shift IC
	for (int i = 0; i < sizeof(id_74HC); i++){
		init_74HC595(id_74HC[i]);
	}
	// For LCD
	Config_GPIO_LCD();

}

Device::~Device() {}

void Device::TurnOnLed(uint8_t data){
	Write_data(data, id_74HC[0]);
}

void Device::TurnOffLed(uint8_t data){
	Write_data((data >> data) & 0x0 , id);
}

void Device::init_lcd(Pin_74H595 *Pin_74H595_0){
	lcd_init(id_74HC[1]);
}

void Device::ShowDisplay(char *data, int row, int col){
//	lcd_goto_XY(row, col);
//	lcd_send_string(data);
}

Pin_74H595 *Get_Pin_74H595(uint8_t DS_GPIO_PIN_NUM){
	if (DS_GPIO_PIN_NUM == DS0){
		return &Pin_74H595_0;
	}
	else if (DS_GPIO_PIN_NUM == DS1){
		return &Pin_74H595_1;
	}
	else if (DS_GPIO_PIN_NUM == DS2){
		return &Pin_74H595_2;
	}
	else if (DS_GPIO_PIN_NUM == DS3){
		return &Pin_74H595_2;
	}
}
